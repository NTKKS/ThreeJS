<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Three.js App</title>
    <link rel="stylesheet" href="css/main.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

</head>

<body class="text-center" id="container">

    <div class="cover-container d-flex w-100 h-100 mx-auto flex-column user-select-none">
        <header class="masthead mb-auto">
            <div class="inner">
                <h3 class="masthead-brand">Virtuální prohlídka FIM - Budova J</h3>
                <h5 class="masthead-brand" id="roomName">Vchod budovy J - 1.NP</h5>
                <nav class="nav nav-masthead justify-content-center">
                    <a class="nav-link active" id="btn1" onclick="changeFloorPlan(1)">1.NP</a>
                    <a class="nav-link" id="btn2" onclick="changeFloorPlan(2)">2.NP</a>
                    <a class="nav-link" id="btn3" onclick="changeFloorPlan(3)">3.NP</a>
                    <a class="nav-link" id="btn4" onclick="changeFloorPlan(4)">4.NP</a>
                </nav>
            </div>
        </header>

        <div id="spinner">
            <section id="loading-screen">

                <div class="spinner-border" role="status">
                    <span class="sr-only">Loading...</span>
                </div>

            </section>
        </div>

        <main role="main" class="inner cover">

            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
                Zobrazit mapu
            </button>

            <!-- Modal -->
            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <!-- Modal - body -->
                        <div class="modal-body" id="modal-body">
                            <div class="mapdiv" id="map">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3508 4961">
                                    <a data-toggle="tooltip" title="Vchod budovy J">
                                        <path id="Vchod" class="cls-2" onclick="changePanoImg(0)"
                                            d="M1549,3446c-0.31,35.64-7.1,77.96-1,111q165.99-1.005,332-2c16.88-.83,109.1,5.54,115-2,11.11-27.33-6.64-71.47-1-102l907-3q42,226.98,84,454H561v-1q38.5-222.48,77-445,169.983-.495,340-1c1.174-12.19,20.344-8.73,33-8Q1279.98,3446.505,1549,3446Z" />
                                    </a>
                                    <a data-toggle="tooltip" title="Relax zóna">
                                        <path id="Relax" class="cls-1" onclick="changePanoImg(33)"
                                            d="M1910,1958h5q3.495,88.995,7,178c1.64,9.36-3.04,13.08-4,18q0.495,21.495,1,43h34c0.33-3.33.67-6.67,1-10q151.485-.495,303-1c0.18,15.65,26.13,10.72,41,10,1.66-15.87,3.88-31.57-1-47-2-.33-4-0.67-6-1-3.77-65.48-23.92-135.34-19-199q84.99-.495,170-1c11.65,0,55.5-2.78,61,2q28.5,174.99,57,350c2.24,22.68,23.56,108.15,18,123q-317.97,1.005-636,2c-0.24,11.1-1.68,20.61,1,29q27,0.495,54,1,1.995,55.5,4,111-89.49.495-179,1-0.495,10.005-1,20H1709q-0.495-10.005-1-20-90.99.495-182,1,2.505-56.49,5-113h54q-0.495-14.505-1-29-318.465,1.005-637,2v-3l33-224q142.98-.495,286-1,0.495-6,1-12,152.49-.495,305-1v11q18.495-.495,37-1v-45c-6.78-3.25-5.69-12.99-5-23q2.505-84.99,5-170h5c0.25-18.44,37.56-11,55-11h241v10Zm-212,232c-3.78,3.04-6.75,4.24-9,9-6.24,15.46-2.26,91.37,2,105,12.29,4.72,99.55,8.73,109,0,11.56-7.88,6.93-101.04,0-112C1770.64,2186.55,1730.84,2189.92,1698,2190Z" />
                                    </a>
                                    <a data-toggle="tooltip" title="Recepce budovy J">
                                        <path id="Recepce budovy J" class="cls-2" onclick="changePanoImg(34)"
                                            d="M2851,3042h-20q-3,10.005-6,20H2723v-3c2.37-6.28,1.8-9.57,1-17-29.96,6.43-168.83-31.15-156,22h-6v-1c2.96-7.51,2.87-11.52,2-20-11.32,2.09-43.89-5.16-53,3q-1.995,8.505-4,17c-14,.36-44.8,3.98-53-3,3.05-5.97,2.08-10.68,2-17q-62.49,1.005-125,2-1.005,10.005-2,20h-54v-1a40.554,40.554,0,0,0,1-19h-84c-18.78-2.91-50.54-3.67-68,1q-1.005,9-2,18h-51v-3q0.495-7.995,1-16-53.49,1.005-107,2,6,178.485,12,357-9.495,1.005-19,2-0.495,6-1,12h-87q-0.495,9-1,18h-47c0.67-18.52,3.51-45-9-51-13.21-6.62-87.68-3.56-103,0-8.55,12.21-2.48,34.11-7,52h-25q-1.5-9.495-3-19-45.495.495-91,1-1.005-10.5-2-21h-21q3-116.49,6-233c4.25-27.42,6.88-93.07,2-120q-116.49,1.005-233,2-0.495,9-1,18c-12.58.32-48.45,4.81-56-2q-1.995-8.505-4-17H1117v20h-52c-0.57-7.71-2.78-14.98-6-20q-43.995.495-88,1c-16.465-5.39-76.239-9-99-4-13.949,3.07-35.972,5-59,5,0.026,6.29-1.7,10.95,0,19q-50.495-.495-101-1-2.5-9-5-18H689q5-27.495,10-55c-4.176-10.47,9.314-40.58,9-58l34-191,835-3q1.995-73.995,4-148,123.495-.495,247-1,59.49,0.495,119,1l6,147c207.86-.04,416.56-1.99,625-2q79.485-.495,159-1c13.24,0,48.79-5.1,57,2q4.005,21.495,8,43c6.17,28.39,9.76,52.21,15,80,3.3,17.48,6.87,41.65,14,56q4.005,30,8,60Q2845,3010,2851,3042ZM1194,2810q-4.5,2.505-9,5c-7.44,23.96-7.33,81.3-1,107,11.79,8.6,107.5,11.18,114-2,7.02-12.69,2.6-97.94-3-107C1268.62,2805.27,1225.68,2809.88,1194,2810Zm979,0q-4.995,3-10,6c-5.62,20.17-5.13,97.13,4,110,20.93,5.71,84.87,5.21,106,0,9.43-14.07,9.33-87.65,4-109C2258.07,2803.16,2203.94,2809.72,2173,2810Z" />
                                    </a>
                                    <a data-toggle="tooltip" title="Šatní skříňky">
                                        <path id="Satna1NP" class="cls-1" onclick="changePanoImg(35)"
                                            d="M2507,2707H1970c0.08-37.82-3.89-70.87-4-109q27.495-.495,55-1c1.32-48.38-4.65-94.8-5-143q284.475-.495,569-1,19.995,126.48,40,253h-65v2q-2.505,9-5,18h-48v-19Zm-995-109h54c0.16,29.04,1.05,55.79-3,82q-0.495,15-1,30-269.97,1.005-540,2v20H978q-2-10.005-4-20H905v-1l39-254q285.465-.495,571-1C1515.05,2503.92,1509.17,2552.85,1512,2598Zm-339-97q-5.505,3-11,6c-3.86,14.04-6.71,88.78-1,103q4.005,4.5,8,9c26.67,0.33,89.98,5.54,106-5,5.55-17.52,7.46-106.32-6-112Q1221,2501.505,1173,2501Zm1065,0q-4.995,2.505-10,5c-5.07,14.1-6.49,103.46,3,110,7.22,5.97,89.88,4.72,104,2,12.17-9.07,13.13-108.25-1-115C2317.33,2495.27,2260.92,2500.83,2238,2501Z" />
                                    </a>
                                    <a data-toggle="tooltip" title="Studijní oddělení">
                                        <path id="Studijni" class="cls-2" onclick="changePanoImg(36)"
                                            d="M922,2457q-12.5,87.99-25,176c-10.3,30.61-15.554,74.96-12,105H743q-3-10.005-6-20l-398,3v-1q15.5-61.5,31-123H768l25-140H922Z" />
                                    </a>
                                </svg>
                            </div>
                        </div>
                        <div class="modal-footer" id="modal-footer">
                            <button type="button" class="btn btn-primary" disabled></button>
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Skrýt mapu</button>
                            <button type="button" class="btn btn-primary" onclick="changeFloorPlan(2)">2.NP</button>
                        </div>
                    </div>
                </div>
            </div>

        </main>

        <footer class="mastfoot mt-auto user-select-none">
            <div class="inner">
                <p>Bakalářská práce 2020 - Využití sférického panorama v rozsáhlejší scéně, Autor: Jan Janás</p>
            </div>
        </footer>
    </div>

    <script src="js/three.js"></script>
    <script src="js/main.js"></script>
    <script src="js/panorama.js"></script>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous">
    </script>

    <script>
        $(document).ready(function () {
            $('[data-toggle="tooltip"]').tooltip();
        });
    </script>

    <script>
        $("#exampleModal").on('hidden.bs.modal', function (e) {
            freezePano();
            var map = document.getElementById('map');
            map.classList.remove('zoom');
            map.style.transform = 'scale(1)';
            zoomFactor = 1;
        });
        $("#exampleModal").on('shown.bs.modal', function (e) {
            freezePano();
        });
    </script>

</body>

</html>